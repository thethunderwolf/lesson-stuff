<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<link href="https://thethunderwolf.github.io/lesson-stuff/style.css" rel="stylesheet" type="text/css">
	<title>Snack Checkout</title>
	</head>
	<body onload="showPrice()">
	
		<h1 id="payplease">Checkout Order</h1>

		<div class="large-section">
	    
	    	<button id="pay" onclick="pay()">Pay</button>
			
	    </div>
		
		<script>
	
			function showPrice() {
				const params = new URLSearchParams(window.location.search);
				const price = parseInt(params.get("price")) || "Error";
				if (typeof(price) != int || price == NaN){
					document.getElementById("pay").textContent = "Payment Calculation Error";
					}
				else { 
					document.getElementById("pay").textContent = "Pay â‚¡" + price;
				}
			}
	
	        function pay() {
	  			const params = new URLSearchParams(window.location.search);
	  			const price = parseInt(params.get("price")) || "Error";
		    	if (typeof(price) != int || price == NaN){
		        	document.getElementById("payplease").textContent = "Payment Failed"
				alert("Failed payment :(")
	        	}
	        	else {
	        		document.getElementById("payplease").textContent = "Payment Successful"
					alert("Payment successful. Thank you for shopping with us.")
				}
			};
	    </script>
    
  </body>
</html>
